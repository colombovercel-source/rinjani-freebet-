<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Claim Freebet RINJANI4D</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body { margin:0; font-family: 'Roboto', sans-serif; background:#f8f5f0; display:flex; justify-content:center; align-items:flex-start; min-height:100vh; padding-top:20px; flex-direction:column; }

.title-small { font-size:1.2em; color:#b71c1c; font-weight:700; margin-bottom:10px; text-align:center; }

.container { width:90%; max-width:400px; background:#fff; border-radius:12px; box-shadow:0 8px 25px rgba(0,0,0,0.2); padding:25px; text-align:center; margin-bottom:15px; }
h1 { color:#b71c1c; margin-bottom:10px; font-size:1.8em; }
p { color:#333; margin-bottom:20px; font-size:0.95em; }
input { width:80%; padding:12px; border:2px solid #b71c1c; border-radius:8px; font-size:16px; margin-bottom:15px; display:block; margin-left:auto; margin-right:auto; }
button { background:#b71c1c; color:#fff; padding:12px 25px; border:none; border-radius:8px; font-size:16px; cursor:pointer; margin-bottom:15px; transition:0.3s; }
button:hover { background:#e53935; }
.progress-container { width:80%; background:#eee; border-radius:10px; margin:15px auto; height:20px; display:none; overflow:hidden; }
.progress-bar { height:100%; width:0%; background:#b71c1c; transition:width 2s ease; }
.message { margin-top:10px; font-weight:bold; min-height:50px; }

.tulisan-meyakinkan { font-size:0.8em; color:#555; margin-top:5px; text-align:center; }

.history-container { width:90%; max-width:400px; background:#fff; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.2); padding:15px; margin:auto; max-height:250px; overflow-y:auto; }
.history-item { display:flex; justify-content:space-between; padding:8px 10px; border-bottom:1px solid #eee; font-size:0.9em; color:#333; }
.history-item:nth-child(odd) { background:#f9f9f9; }

.modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background:rgba(0,0,0,0.7); justify-content:center; align-items:center; }
.modal-content { background:#fff; padding:25px; border-radius:12px; text-align:center; max-width:350px; width:90%; box-shadow:0 8px 25px rgba(0,0,0,0.3); }
.modal h2 { color:#b71c1c; margin-bottom:15px; }
.modal p { color:#333; margin-bottom:20px; }
.modal button { margin:5px; }
</style>
</head>
<body>

<!-- Judul kecil di atas box -->
<div class="title-small">SISTEM PUSAT RINJANI4D</div>

<!-- Kotak Klaim Freebet -->
<div class="container">
  <h1>üéÅ Claim Freebet RINJANI4D</h1>
  <p>Masukkan <strong>User ID</strong> dan <strong>Kode Voucher</strong> Anda.<br>Hanya bisa klaim 1x per akun.</p>

  <input type="text" id="userId" placeholder="Masukkan User ID">
  <input type="text" id="voucher" placeholder="Masukkan Kode Voucher">
  <button onclick="claimFreebet()">CLAIM FREEBET</button>

  <div class="progress-container" id="progressContainer">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="message" id="message"></div>
  <div class="tulisan-meyakinkan">üíé Tampilan ini resmi & asli RINJANI4D</div>
</div>

<!-- Riwayat Freebet Terakhir -->
<div class="history-container" id="historyContainer">
  <!-- Riwayat akan di-generate JS -->
</div>

<!-- Modal Popup -->
<div id="popupModal" class="modal">
  <div class="modal-content">
    <h2>üéâ Selamat!</h2>
    <p id="popupMessage"></p>
    <button onclick="closePopup()">Tutup</button>
    <a href="https://rinjanipuncak.com" target="_blank"><button>üí¨ Hubungi Admin / CS</button></a>
  </div>
</div>

<script>
const userClaimed = {}; // Simulasi database user ID
const validVoucher = "2026MAXWIN";
const historyContainer = document.getElementById('historyContainer');

// Generate 20 riwayat awal acak
function generateRandomHistory(){
  const history = [];
  for(let i=1;i<=20;i++){
    const userId = "user" + Math.floor(Math.random()*1000);
    const freebet = Math.floor(Math.random()*(200000-20000+1)/1000)*1000;
    history.push({userId, freebet});
  }
  return history;
}

let historyData = generateRandomHistory();
function renderHistory(){
  historyContainer.innerHTML = "";
  historyData.forEach(item=>{
    const div = document.createElement("div");
    div.className="history-item";
    div.innerHTML = `<span>${item.userId}</span><span>IDR ${item.freebet.toLocaleString('id-ID')}</span>`;
    historyContainer.appendChild(div);
  });
}
renderHistory();

// Fungsi Freebet
function getRandomFreebet() {
  return Math.floor(Math.random() * (200000 - 20000 + 1) / 1000) * 1000;
}

function claimFreebet() {
  const userId = document.getElementById('userId').value.trim();
  const voucher = document.getElementById('voucher').value.trim();
  const messageEl = document.getElementById('message');
  const progressContainer = document.getElementById('progressContainer');
  const progressBar = document.getElementById('progressBar');

  if(!userId || !voucher){
    messageEl.style.color = "red";
    messageEl.textContent = "‚ùå User ID dan kode voucher wajib diisi.";
    return;
  }
  if(voucher !== validVoucher){
    messageEl.style.color = "red";
    messageEl.textContent = "‚ùå Kode tidak valid.";
    return;
  }
  if(userClaimed[userId]){
    messageEl.style.color = "red";
    messageEl.textContent = "‚ùå Anda sudah klaim kode ini sebelumnya.";
    return;
  }

  progressContainer.style.display = "block";
  progressBar.style.width = "0%";
  messageEl.textContent = "";
  let width = 0;
  const interval = setInterval(() => {
    width += 1;
    progressBar.style.width = width + "%";
    if(width >= 100){
      clearInterval(interval);
      const freebet = getRandomFreebet();
      userClaimed[userId] = freebet;

      // Tambah ke riwayat
      historyData.unshift({userId, freebet});
      if(historyData.length>20) historyData.pop(); // tetap 20 item
      renderHistory();

      // Popup
      document.getElementById('popupMessage').innerHTML = 
        `User ID: <strong>${userId}</strong><br>Freebet: <strong>${freebet.toLocaleString('id-ID')}</strong><br>Silahkan screenshot dan kirim ke Admin.`;
      document.getElementById('popupModal').style.display = "flex";
    }
  }, 20);
}

function closePopup() {
  document.getElementById('popupModal').style.display = "none";
}
</script>

</body>
</html>
